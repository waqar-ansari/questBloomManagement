/* CURSOR */
class Cursor{constructor(t){this.options=$.extend(!0,{container:"body",speed:.7,ease:"expo.out",visibleTimeout:300},t),this.body=$(this.options.container),this.el=$('<div class="cb-cursor"></div>'),this.text=$('<div class="cb-cursor-text"></div>'),this.init()}init(){this.el.append(this.text),this.body.append(this.el),this.bind(),this.move(-window.innerWidth,-window.innerHeight,0)}bind(){let t=this;this.body.on("mouseleave",()=>{t.hide()}).on("mouseenter",()=>{t.show()}).on("mousemove",t=>{this.pos={x:this.stick?this.stick.x-(this.stick.x-t.clientX)*.15:t.clientX,y:this.stick?this.stick.y-(this.stick.y-t.clientY)*.15:t.clientY},this.update()}).on("mousedown",()=>{t.setState("-active")}).on("mouseup",()=>{t.removeState("-active")}).on("mouseenter","a,input,textarea,button",()=>{t.setState("-pointer")}).on("mouseleave","a,input,textarea,button",()=>{t.removeState("-pointer")}).on("mouseenter","iframe",()=>{t.hide()}).on("mouseleave","iframe",()=>{t.show()}).on("mouseenter","[data-cursor]",function(){t.setState(this.dataset.cursor)}).on("mouseleave","[data-cursor]",function(){t.removeState(this.dataset.cursor)}).on("mouseenter","[data-cursor-text]",function(){t.setText(this.dataset.cursorText)}).on("mouseleave","[data-cursor-text]",function(){t.removeText()}).on("mouseenter","[data-cursor-stick]",function(){t.setStick(this.dataset.cursorStick)}).on("mouseleave","[data-cursor-stick]",function(){t.removeStick()})}setState(t){this.el.addClass(t)}removeState(t){this.el.removeClass(t)}toggleState(t){this.el.toggleClass(t)}setText(t){this.text.html(t),this.el.addClass("-text")}removeText(){this.el.removeClass("-text")}setStick(t){let e=$(t),s=e.get(0).getBoundingClientRect();this.stick={y:s.top+e.height()/2,x:s.left+e.width()/2},this.move(this.stick.x,this.stick.y,5)}removeStick(){this.stick=!1}update(){this.move(),this.show()}move(t,e,s){gsap.to(this.el,{x:t||this.pos.x,y:e||this.pos.y,force3D:!0,overwrite:!0,ease:this.options.ease,duration:this.visible?s||this.options.speed:0})}show(){this.visible||(clearInterval(this.visibleInt),this.el.addClass("-visible"),this.visibleInt=setTimeout(()=>this.visible=!0))}hide(){clearInterval(this.visibleInt),this.el.removeClass("-visible"),this.visibleInt=setTimeout(()=>this.visible=!1,this.options.visibleTimeout)}}class Magnetic{constructor(t,e={}){if(this.el=$(t),this.options=$.extend(!0,{y:.2,x:.2,s:.2,rs:.7},this.el.data("magnetic")||e),this.y=0,this.x=0,this.width=0,this.height=0,this.el.data("magnetic-init"))return;this.el.data("magnetic-init",!0),this.bind()}bind(){this.el.on("mouseenter",()=>{this.y=this.el.offset().top-window.pageYOffset,this.x=this.el.offset().left-window.pageXOffset,this.width=this.el.outerWidth(),this.height=this.el.outerHeight()}),this.el.on("mousemove",t=>{let e=(t.clientY-this.y-this.height/2)*this.options.y,s=(t.clientX-this.x-this.width/2)*this.options.x;this.move(s,e,this.options.s)}),this.el.on("mouseleave",t=>{this.move(0,0,this.options.rs)})}move(t,e,s){gsap.to(this.el,{y:e,x:t,force3D:!0,overwrite:!0,duration:s})}}